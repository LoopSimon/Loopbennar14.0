olavlund_wood_mechanic = {
	alert_icon_gfx = GFX_alerticons_government_mechanics
	alert_icon_index = 4
	available = {
		tag = Z16
	}

	powers = {
		olavlund_wood = {
			show_before_interactions = yes
			max = 25
			base_monthly_growth = 0
		}
	}
	
	interactions = {
		create_ebonsteel_forge = {
			icon = GFX_collect_tax_on_art
			cost_type = olavlund_wood
			cost = 4
			trigger = {
				has_country_flag = olavlund_streamlining_ebonsteel_reward
			}
			effect = {
				custom_tooltip = create_ebonsteel_forge_effect_tt
				hidden_effect = {
					if = {
						limit = {
							has_country_flag = olavlund_higher_chance_ebonsteel_unlocked
						}
						random_list = {
							34 = {
								random_owned_province = {
									limit = {
										OR = {
											NOT = { has_province_modifier = small_ebonsteel_forge }
											NOT = { has_province_modifier = medium_ebonsteel_forge }
											NOT = { has_province_modifier = urviksten_ebonforge }
											NOT = { has_province_modifier = isolation_ebonsteel }
										}
									}
									add_province_modifier = {
										name = small_ebonsteel_forge
										duration = -1
									}
								}
							}
							66 = {
								random_owned_province = {
									limit = {
										OR = {
											NOT = { has_province_modifier = small_ebonsteel_forge }
											NOT = { has_province_modifier = medium_ebonsteel_forge }
											NOT = { has_province_modifier = urviksten_ebonforge }
											NOT = { has_province_modifier = isolation_ebonsteel }
										}
									}
									add_province_modifier = {
										name = medium_ebonsteel_forge
										duration = -1
									}
								}
							}
						}
					}
					else = {
						random_list = {
							66 = {
								random_owned_province = {
									limit = {
										OR = {
											NOT = { has_province_modifier = small_ebonsteel_forge }
											NOT = { has_province_modifier = medium_ebonsteel_forge }
											NOT = { has_province_modifier = urviksten_ebonforge }
											NOT = { has_province_modifier = isolation_ebonsteel }
										}
									}
									add_province_modifier = {
										name = small_ebonsteel_forge
										duration = -1
									}
								}
							}
							34 = {
								random_owned_province = {
									limit = {
										OR = {
											NOT = { has_province_modifier = small_ebonsteel_forge }
											NOT = { has_province_modifier = medium_ebonsteel_forge }
											NOT = { has_province_modifier = urviksten_ebonforge }
											NOT = { has_province_modifier = isolation_ebonsteel }
										}
									}
									add_province_modifier = {
										name = medium_ebonsteel_forge
										duration = -1
									}
								}
							}
						}
					}
				}
			}
			cooldown_years = 0
			ai_chance = {
				factor = 1
			}
		}
		invest_into_infrastructure = {
			icon = GFX_promote_good_reputation
			cost_type = olavlund_wood
			cost = 1
			trigger = {
				has_country_flag = olavlund_wood_abilities_unlocked
			}
			effect = {
				add_country_modifier = {
					name = olavlund_invest_into_infrastructure
					duration = 3650
				}
			}
			cooldown_years = 10
			ai_chance = {
				factor = 1
			}
		}
		upgrade_heavy_ship_hullsize = {
			icon = GFX_conscript_enthusiasts
			cost_type = olavlund_wood
			cost = 1
			trigger = {
				heavy_ship_fraction = 0.2
				has_country_flag = olavlund_wood_abilities_unlocked
			}
			effect = {
				add_country_modifier = {
					name = olavlund_upgrade_heavy_ship_hullsize
					duration = 3650
				}
			}
			cooldown_years = 10
			ai_chance = {
				factor = 1
			}
		}
	}
}